HTMLCollection.prototype.hint=function(t){null==t&&(t={});var n,o=document.createElement("div"),s=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),e=document.createElement("div"),l=0;switch(t.trigger){case"click":break;default:t.trigger="mouseover"}var c={maxWidth:t.maxWidth||250,trigger:t.trigger,count:this.length,timer:10<t.timer?t.timer:10,wait:t.wait||10,holdOn:t.hold||0,closeBy:t.closeBy||["scroll","resize","clickOutside"],animate:t.animate||null,duration:t.animateDuration||200,style:t.theme||null,data:t.text||null,position:t.vertical||"auto",pin:t.pin||!1,stickiness:t.stickiness||18};s.style="position: absolute; left: 0; top: 0; height: 0; width: 100%",o.classList.add("html-hint",c.style),d.classList.add("html-hint-content"),s.appendChild(o),o.appendChild(d);function a(t){clearTimeout(n),o.removeEventListener("transitionend",h),r.initial_node=t.target;var e=c.data?c.data:r.initial_node.getAttribute("data-hint");if(null!=e){if("#"==e[0]){var i=e.slice(1);document.getElementById(i)&&(e=document.getElementById(i).innerHTML)}d.innerHTML=e,setTimeout(function(){"click"==c.trigger&&(10<c.timer&&(n=setTimeout(u,c.timer,{type:"timer"})),c.closeBy.includes("clickOutside")&&document.addEventListener("click",u),c.closeBy.includes("scroll")&&document.addEventListener("scroll",u),c.closeBy.includes("resize")?window.addEventListener("resize",u):window.addEventListener("resize",r.setup),c.closeBy.includes("mouseOut")&&document.addEventListener("mouseout",u)),"mouseover"==c.trigger&&document.addEventListener("mouseout",u),document.body.appendChild(s),c.animate&&(o.classList.add(c.animate),setTimeout(function(){o.classList.add("complete")},0)),r.setup(t),r.isExists=!0},c.wait)}}for(var r={isExists:!1,initial_node:null,initial_node_box:null,width:c.maxWidth,height:0,x:0,y:0,center:0,position:"auto",offset:2,setup:function(t){switch(o.style="",o.style.position="absolute",r.width=o.getBoundingClientRect().width,r.width>c.maxWidth&&(r.width=c.maxWidth,o.style.width=r.width+"px"),r.initial_node_box=r.initial_node.getBoundingClientRect(),r.height=o.getBoundingClientRect().height,r.center=t.clientX,r.center+r.width/2+r.offset<=window.innerWidth&&0<=r.center-r.width/2-r.offset?r.x=r.center-r.width/2:r.center+r.width/2+r.offset>window.innerWidth?r.x=window.innerWidth-r.offset-r.width:r.x=r.offset,"auto"==c.position?(r.initial_node_box.y+r.initial_node_box.height+r.height<window.innerHeight?r.position="bottom":r.position="top",0<r.initial_node_box.y-r.height?r.position="top":r.position="bottom"):r.position=c.position,r.position){case"middle":r.y=t.clientY+r.initial_node_box.height/2-r.height;break;case"top":t.clientY-r.initial_node_box.y>c.stickiness?r.y=r.initial_node_box.y+r.initial_node_box.height-c.stickiness-r.height-l:r.y=r.initial_node_box.y-r.height-l;break;case"bottom":r.initial_node_box.y+r.initial_node_box.height-t.clientY>c.stickiness?r.y=r.initial_node_box.y+c.stickiness+l:r.y=r.initial_node_box.y+r.initial_node_box.height+l,o.classList.add("position-bottom")}if(o.style.left=r.x+"px",o.style.top=r.y+"px",c.pin){var e=r.center-r.x;e<9&&(e=9),e>r.width-9&&(e=r.width-9),i.style.left=e+"px"}}},h=function(){o.classList.remove(c.animate),o.removeEventListener("transitionend",h),s.remove()},u=function(t){if(r.isExists){if("mouseover"==c.trigger&&"mouseout"==t.type){if("bottom"==r.position&&t.clientX>r.x&&t.clientX<r.x+r.width&&t.clientY+c.stickiness>r.y&&t.clientY<r.height+r.y)return;if("top"==r.position&&t.clientX>r.x&&t.clientX<r.x+r.width&&t.clientY>r.y&&t.clientY<r.height+r.y+c.stickiness)return}if("click"==t.type&&t.target!=e){if(t.target==r.initial_node)return;if(!(t.clientX<=r.x||t.clientX>=r.x+r.width||t.clientY<r.y||t.clientY>r.height+r.y))return}document.removeEventListener("click",u),document.removeEventListener("mouseout",u),document.removeEventListener("scroll",u),window.removeEventListener("resize",u,r.setup),c.animate?(o.classList.remove("complete"),o.addEventListener("transitionend",h)):s.remove(),r.isExists=!1,o.classList.remove("position-bottom"),clearTimeout(n),r.width=0}},m=0;m<c.count;m++)this[m].addEventListener(c.trigger,a);c.pin&&(i.style.position="absolute",i.classList.add("html-hint-pin"),o.appendChild(i),l=8),c.closeBy.includes("button")&&(o.classList.add("close-button"),o.appendChild(e),e.classList.add("html-hint-close"),e.addEventListener("click",u))};