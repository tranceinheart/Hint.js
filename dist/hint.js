HTMLCollection.prototype.hint=function(t){null==t&&(t={});var n,o,s,l=10,d=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),i=document.createElement("div"),e=document.createElement("div"),r=0;switch(t.trigger){case"click":break;default:t.trigger="mouseover"}var m={maxWidth:t.maxWidth||250,trigger:t.trigger,count:this.length,timer:t.timer>l?t.timer:l,wait:t.delay||l,holdOn:t.hold||0,closeBy:t.closeBy||["scroll","resize","clickOutside"],animate:t.animate||!1,style:t.theme||"white",data:t.text||null,position:t.vertical||"auto",pin:t.pin||!1,noDelayMode:t.noDelayMode||l,stickiness:t.stickiness||18,initialWait:t.delay||l};a.style="position: absolute; left: 0; top: 0; height: 0; width: 100%",d.classList.add("html-hint",m.style),c.classList.add("html-hint-content"),a.appendChild(d),d.appendChild(c);function h(t){clearTimeout(s),d.removeEventListener("transitionend",y),u.initial_node=t.target;var e=m.data?m.data:u.initial_node.getAttribute("data-hint");if(null!=e){if("#"==e[0]){var i=e.slice(1);document.getElementById(i)&&(e=document.getElementById(i).innerHTML)}m.noDelayMode>l&&null!=n&&(n>Date.now()?m.wait=l:m.wait=m.initialWait),console.log(m.wait),c.innerHTML=e,o=setTimeout(function(){"click"==m.trigger&&(m.timer>l&&(s=setTimeout(p,m.timer,{type:"timer"})),m.closeBy.includes("clickOutside")&&document.addEventListener("click",p),m.closeBy.includes("scroll")&&document.addEventListener("scroll",p),m.closeBy.includes("resize")?window.addEventListener("resize",p):window.addEventListener("resize",u.setup),m.closeBy.includes("mouseOut")&&document.addEventListener("mouseout",p)),"mouseover"==m.trigger&&document.addEventListener("mouseout",p),document.body.appendChild(a),u.setup(t),u.isExists=!0,m.timer>l&&setTimeout(y,m.timer)},m.wait),"mouseover"==m.trigger&&m.wait>l&&window.addEventListener("mouseout",function(){clearTimeout(o)})}}for(var u={isExists:!1,initial_node:null,initial_node_box:null,width:m.maxWidth,height:0,x:0,y:0,center:0,position:"auto",offset:2,setup:function(t){switch(d.style="",d.style.position="absolute",d.classList.remove("position-bottom"),u.width=d.getBoundingClientRect().width,u.width>m.maxWidth&&(u.width=m.maxWidth,d.style.width=u.width+"px"),u.initial_node_box=u.initial_node.getBoundingClientRect(),u.height=d.getBoundingClientRect().height,u.center=t.clientX,u.center+u.width/2+u.offset<=window.innerWidth&&0<=u.center-u.width/2-u.offset?u.x=u.center-u.width/2:u.center+u.width/2+u.offset>window.innerWidth?u.x=window.innerWidth-u.offset-u.width:u.x=u.offset,"auto"==m.position?(u.initial_node_box.y+u.initial_node_box.height+u.height<window.innerHeight?u.position="bottom":u.position="top",0<u.initial_node_box.y-u.height?u.position="top":u.position="bottom"):u.position=m.position,u.position){case"top":t.clientY-u.initial_node_box.y>m.stickiness?u.y=u.initial_node_box.y+u.initial_node_box.height-m.stickiness-u.height-r:u.y=u.initial_node_box.y-u.height-r;break;case"bottom":u.initial_node_box.y+u.initial_node_box.height-t.clientY>m.stickiness?u.y=u.initial_node_box.y+m.stickiness+r:u.y=u.initial_node_box.y+u.initial_node_box.height+r,d.classList.add("position-bottom")}if(m.animate){switch(u.position){case"bottom":d.style.transform="translate3d(0,30px,0)";break;case"top":d.style.transform="translate3d(0,-30px,0)"}d.style.opacity="0",setTimeout(function(){d.classList.add("animate"),d.style.transform="translate3d(0,0,0)",d.style.opacity="1"},0)}if(d.style.left=u.x+"px",d.style.top=u.y+"px",m.pin){var e=u.center-u.x;e<9&&(e=9),e>u.width-9&&(e=u.width-9),i.style.left=e+"px"}}},y=function(){d.classList.remove("animate"),d.removeEventListener("transitionend",y),a.remove()},p=function(t){if(u.isExists){if("mouseover"==m.trigger&&"mouseout"==t.type){if("bottom"==u.position&&t.clientX>u.x&&t.clientX<u.x+u.width&&t.clientY+m.stickiness>u.y&&t.clientY<u.height+u.y)return;if("top"==u.position&&t.clientX>u.x&&t.clientX<u.x+u.width&&t.clientY>u.y&&t.clientY<u.height+u.y+m.stickiness)return}if("click"==t.type&&t.target!=e){if(t.target==u.initial_node)return;if(!(t.clientX<=u.x||t.clientX>=u.x+u.width||t.clientY<u.y||t.clientY>u.height+u.y))return}document.removeEventListener("click",p),document.removeEventListener("mouseout",p),document.removeEventListener("scroll",p),window.removeEventListener("resize",p,u.setup),m.animate?(d.style.transform="",d.style.opacity="0",d.addEventListener("transitionend",y)):a.remove(),u.isExists=!1,clearTimeout(s),u.width=0,m.noDelayMode>l&&(n=Date.now()+m.noDelayMode)}},g=0;g<m.count;g++)this[g].addEventListener(m.trigger,h);m.pin&&(i.style.position="absolute",i.classList.add("html-hint-pin"),d.appendChild(i),r=8),m.closeBy.includes("button")&&(d.classList.add("close-button"),d.appendChild(e),e.classList.add("html-hint-close"),e.addEventListener("click",p))};