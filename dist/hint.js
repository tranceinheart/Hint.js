HTMLCollection.prototype.hint=function(e){null==e&&(e={});var t,n,o,d=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),r=0;switch(e.trigger){case"click":break;default:e.trigger="mouseover"}var c={maxWidth:e.maxWidth||250,trigger:e.trigger,count:this.length,timer:10<e.timer?e.timer:10,wait:e.wait||10,holdOn:e.hold||0,closeBy:e.closeBy||["scroll","resize","clickOutside"],animate:e.animate||null,duration:e.animateDuration||200,style:e.theme||null,data:e.text||null,position:e.position||"top",pin:e.pin||!1};s.style="position: absolute; left: 0; top: 0; height: 0; width: 100%",d.classList.add("html-hint",c.style),l.classList.add("html-hint-content"),s.appendChild(d),d.appendChild(l);function u(e){clearTimeout(o),d.removeEventListener("transitionend",h),m.initial_node=e.target;var t=c.data?c.data:m.initial_node.getAttribute("data-hint");if("#"==t[0]){var i=t.slice(1);document.getElementById(i)&&(t=document.getElementById(i).innerHTML)}null!=t&&(l.innerHTML=t,n=setTimeout(function(){"click"==c.trigger&&(10<c.timer&&(o=setTimeout(p,c.timer,{type:"timer"})),c.closeBy.includes("clickOutside")&&document.addEventListener("click",p),c.closeBy.includes("scroll")&&document.addEventListener("scroll",p),c.closeBy.includes("resize")?window.addEventListener("resize",p):window.addEventListener("resize",m.setup),c.closeBy.includes("mouseOut")&&document.addEventListener("mouseout",p)),"mouseover"==c.trigger&&document.addEventListener("mouseout",p),document.body.appendChild(s),c.animate&&(d.classList.add(c.animate),setTimeout(function(){d.classList.add("complete")},0)),m.setup(),m.isExists=!0},c.wait),"mouseover"==c.trigger&&0<c.wait&&window.addEventListener("mouseout",function(){clearTimeout(n)}))}for(var m={isExists:!1,initial_node:null,initial_node_box:null,width:c.maxWidth,height:0,x:0,y:0,center:0,offset:2,setup:function(){switch(d.style="",d.style.position="absolute",t=s.getBoundingClientRect(),m.width=d.getBoundingClientRect().width,m.width>c.maxWidth&&(m.width=c.maxWidth,d.style.width=m.width+"px"),m.initial_node_box=m.initial_node.getBoundingClientRect(),m.initial_x=m.initial_node_box.left-t.left,m.initial_y=m.initial_node_box.top-t.top,m.height=d.getBoundingClientRect().height,m.center=m.initial_x+m.initial_node_box.width/2,m.center+m.width/2+m.offset<=window.innerWidth&&0<=m.center-m.width/2-m.offset&&"cursor"!=c.position?m.x=m.center-m.width/2:m.center+m.width/2+m.offset>window.innerWidth?m.x=window.innerWidth-m.offset-m.width:m.x=m.offset,c.position){case"middle":m.y=m.initial_y+m.initial_node_box.height/2-m.height;break;case"bottom":m.y=m.initial_y+m.initial_node_box.height+r;break;case"cursor":m.x=m.y=m.initial_y+m.initial_node_box.height+r;break;default:m.y=m.initial_y-m.height-r}d.style.left=m.x+"px",d.style.top=m.y+"px",c.pin&&(i.style.left=m.center-m.x+"px",i.style.top=m.height+"px")}},h=function(){d.classList.remove(c.animate),d.removeEventListener("transitionend",h),s.remove()},p=function(e){if(m.isExists){if("click"==e.type&&e.target!=a){if(e.target==m.initial_node)return;if(!(e.clientX<m.x||e.clientX>m.x+m.width||e.clientY<m.y||e.clientY>m.height+m.y))return}document.removeEventListener("click",p),document.removeEventListener("mouseout",p),document.removeEventListener("scroll",p),window.removeEventListener("resize",p,m.setup),c.animate?(d.classList.remove("complete"),d.addEventListener("transitionend",h)):d.remove(),m.isExists=!1,clearTimeout(o),m.width=0}},g=0;g<c.count;g++)this[g].addEventListener(c.trigger,u);c.pin&&(i.style.position="absolute",i.classList.add("html-hint-pin"),d.appendChild(i),r=8),c.closeBy.includes("button")&&(d.classList.add("close-button"),d.appendChild(a),a.classList.add("html-hint-close"),a.addEventListener("click",p))};